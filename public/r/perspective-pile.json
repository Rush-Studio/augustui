{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "perspective-pile",
  "type": "registry:ui",
  "title": "Perspective Pile",
  "description": "A perspective pile component that displays a list of images.",
  "dependencies": [
    "react",
    "motion"
  ],
  "files": [
    {
      "path": "registry/augustui/perspective-pile.tsx",
      "content": "\"use client\";\n\nimport React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\n\ninterface PerspectivePileProps {\n  images: string[];\n  className?: string;\n}\n\nexport default function PerspectivePile({\n  images = [\n    \"https://images.unsplash.com/photo-1742268351444-7e153a9fb747?q=80&w=3174&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    \"https://images.unsplash.com/photo-1742228896964-83f6327740ea?q=80&w=3212&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    \"https://images.unsplash.com/photo-1742943679519-bb9eb364b152?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n  ],\n  className,\n}: PerspectivePileProps) {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <div\n      className={cn(\"relative size-full\", className)}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      <motion.div\n        className=\"relative size-full\"\n        animate={isHovered ? \"hover\" : \"rest\"}\n        style={{ transformStyle: \"preserve-3d\", perspective: \"1500px\" }}\n        transition={{ duration: 0.2, ease: \"easeOut\" }}\n      >\n        {images.slice(0, 3).map((src, index) => (\n          <Card\n            key={index}\n            src={src}\n            index={index}\n            total={Math.min(images.length, 3)}\n            isHovered={isHovered}\n          />\n        ))}\n      </motion.div>\n    </div>\n  );\n}\n\ninterface CardProps {\n  src: string;\n  index: number;\n  total: number;\n  isHovered: boolean;\n}\n\nconst Card = ({ src, index, total, isHovered }: CardProps) => {\n  // Calculate z-offset based on index\n  // First card (index 0) is in front, last card (index 2) is behind\n  const zOffset = -index * 100;\n\n  return (\n    <motion.div\n      className={cn(\n        \"absolute inset-0 size-full overflow-hidden rounded-2xl shadow-md transition-shadow\",\n        isHovered && \"hover:shadow-lg\",\n      )}\n      style={{\n        zIndex: total - index,\n      }}\n      variants={{\n        rest: {\n          z: zOffset,\n          y: -index * 40,\n          x: 0,\n          scale: 1,\n          opacity: 1,\n          rotateX: 0,\n          rotateY: 0,\n        },\n        hover: {\n          z: zOffset,\n          y: 0, // Move up slightly when hovered\n          x: (index - 1) * 80,\n          scale: 1,\n          opacity: 1,\n          rotateX: 0,\n          rotateY: -40,\n        },\n      }}\n      transition={{\n        duration: 0.3,\n        ease: [0.19, 1, 0.22, 1], // Custom cubic bezier for more natural motion\n      }}\n      whileHover={{ y: -60 }} // Additional lift on individual hover\n      whileTap={{ scale: 1 }}\n    >\n      <motion.div\n        className=\"w-full h-full bg-cover bg-center rounded-2xl\"\n        style={{ backgroundImage: `url(${src})` }}\n        variants={{\n          rest: { scale: 1 },\n          hover: {\n            scale: 1,\n          },\n        }}\n        transition={{ duration: 0.2 }}\n      />\n    </motion.div>\n  );\n};\n",
      "type": "registry:ui",
      "target": "components/augustui/perspective-pile.tsx"
    }
  ]
}